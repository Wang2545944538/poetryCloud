# 云墨诗苑功能说明文档

## 一、功能介绍

### 1. 引言

云墨诗苑是一款集诗词诗人查找，诗词创作、分享、交流于一体的web应用。本应用致力于传承和弘扬中华优秀传统文化，为广大诗词爱好者提供一个便捷、实用的诗词创作平台。以下是云墨诗苑的主要功能说明。

### 2. 功能模块

#### 2.1 用户注册与登录

- **注册账号**：用户可通过手机号、邮箱等方式注册账号。
- **登录账号**：用户可通过注册的手机号、邮箱或第三方账号登录。

#### 2.2 首页推荐

- **诗词推荐**：根据用户兴趣和阅读历史，推荐热门诗词、经典诗词。
- **热门话题**：展示当前热门诗词话题，方便用户参与讨论。

#### 2.3 诗词创作

- **在线创作**：提供丰富的诗词模板，用户可在线创作诗词。
- **草稿保存**：自动保存草稿，防止意外丢失。
- **诗词发布**：用户可发布自己的诗词作品，与其他用户分享。

#### 2.4 诗词库

- **诗词分类**：按照朝代、作者、题材等进行分类，方便用户查找。
- **诗词搜索**：支持关键词搜索，快速找到心仪的诗词。
- **诗词收藏**：用户可将喜欢的诗词加入收藏夹，方便随时阅读。

#### 2.5 互动交流

- **评论点赞**：用户可对诗词作品进行评论、点赞，互动交流。
- **关注作者**：关注喜欢的作者，第一时间获取其最新作品。
- **私信功能**：支持用户之间发送私信，进行一对一交流。

#### 2.6 活动赛事

- **线上赛事**：定期举办诗词创作大赛，鼓励用户积极参与。
- **线下活动**：组织诗词讲座、沙龙等活动，促进用户交流。

#### 2.7 个人中心

- **个人信息**：用户可查看、修改个人信息，如头像、签名等。
- **我的作品**：展示用户发布的诗词作品，便于管理。
- **浏览记录**：记录用户浏览过的诗词，方便回顾。

### 3. 特色功能

#### 3.1 诗词解析

- **注释解析**：为诗词中的生僻字词提供注释解析，帮助用户理解。

#### 3.2 诗词挑战

- **诗词接龙**：用户可参与诗词接龙游戏，挑战自己的诗词功底。 

### 4. 总结

​		云墨诗苑作为一款诗词类应用，为广大诗词爱好者提供了一个便捷、实用的创作、分享、交流平台。通过不断优化和完善功能，我们致力于让更多人了解和喜爱中华优秀传统文化。感谢您对云墨诗苑的支持与关注！

## 二、数据库设计

#### 1、用户表 users

| 字段     | 类型    | 说明       |
| -------- | ------- | ---------- |
| user_id  | int     | 用户id     |
| username | varchar | 用户名     |
| password | varchar | 密码       |
| nickname | varchar | 昵称       |
| type_id  | int     | 用户类型id |
| avatar   | varchar | 用户头像   |



#### 2、 模块表 models

| 字段          | 类型         | 说明                 |
| ------------- | ------------ | -------------------- |
| model_id      | int          | 模块id(主键、自增)   |
| name          | varchar(255) | 模块名称             |
| url           | varchar(255) | 连接地址             |
| parent_models | int          | 父模块id (0为父模块) |



#### 3、用户类型表 type

| 字段      | 类型         | 说明               |
| --------- | ------------ | ------------------ |
| type_id   | int          | 类型id(主键、自增) |
| type_name | varchar(255) | 类型名称           |
| model_id  | int          | 模块id             |



#### 4、评论表 comment

| 字段       | 类型         | 说明                         |
| ---------- | ------------ | ---------------------------- |
| comment_id | int          | 评论id(主键、自增)           |
| content    | varchar(255) | 评论内容                     |
| time       | datetime     | 发布时间                     |
| blog_id    | int          | 帖子id  (该评论属于哪条帖子) |
| user_id    | int          | 用户id (谁发布的)            |



#### 5、用户评论联系表 relation

| 字段    | 类型 | 说明                  |
| ------- | ---- | --------------------- |
| blog_id | int  | 帖子id(主键、自增)    |
| user_id | int  | 用户id                |
| zan     | int  | 是否点赞(0/1) 0是没点 |
| sc      | int  | 是否收藏(0/1)         |





#### 6、诗词表 poem

| 字段      | 类型    | 说明                   |
| --------- | ------- | ---------------------- |
| poem_id   | int     | 诗词id                 |
| author_id | int     | 作者id                 |
| title     | varchar | 标题                   |
| content   | varchar | 内容                   |
| genre_id  | int     | 体裁id                 |
| theme_id  | int     | 题材id                 |
| pf_id     | int     | 诗词信息id             |
| status    | int     | 诗词状态(0/1)0为未审核 |
| isself    | int     | 是否自创(0/1)1为自创   |



#### 7、作者表 author

| 字段              | 类型    | 说明             |
| ----------------- | ------- | ---------------- |
| author_id         | int     | 作者id           |
| author_name       | varchar | 姓名             |
| author_gender     | varchar | 性别             |
| dynasty_id        | int     | 朝代id           |
| author_major      | varchar | 代表作品         |
| author_intro      | varchar | 简介(生平和成就) |
| author_birth_year | time    | 出生年份         |
| author_death_year | time    | 逝世年份         |
| author_img        | varchar | 头像图片         |
| author_style      | varchar | 诗风，流派       |



#### 8.个人信息表 personalInformation

| 字段        | 类型         | 说明                            |
| ----------- | ------------ | ------------------------------- |
| personal_id | int          | 个人信 name  息id，主键自动递增 |
| user_id     | int          | 用户id                          |
| name        | varchar      | 姓名                            |
| sex         | varchar      | 性别 约束条件：男or女           |
| age         | tinyint      | 年龄                            |
| money       | double(10,2) | 钱                              |
| point       | int          | 积分                            |



#### 9.朝代表

| 字段         | 类型    | 说明   |
| ------------ | ------- | ------ |
| dynasty_id   | int     | 朝代id |
| dynasty_name | varchar | 朝代名 |



#### 10.诗集表 collection

| 字段              | 类型    | 说明                 |
| ----------------- | ------- | -------------------- |
| collection_id     | int     | 诗集id，主键自动递增 |
| collection_name   | varchar | 诗集名称             |
| collection_avatar | varchar | 诗集头像             |
| collection_count  | int     | 诗集个数             |



#### 11.诗-诗集表poem_collection

| 字段          | 类型 | 说明                 |
| ------------- | ---- | -------------------- |
| collection_id | int  | 诗集id，主键自动递增 |
| poem_id       | int  | 诗词id               |



#### 12.用户诗集表users_collection

| 字段          | 类型 | 说明                 |
| ------------- | ---- | -------------------- |
| collection_id | int  | 诗集id，主键自动递增 |
| user_id       | int  | 用户id               |



#### 13.商品表 goods

| 字段        | 类型         | 说明                            |
| ----------- | ------------ | ------------------------------- |
| good_id     | int          | 商品id(主键、自增)              |
| name        | varchar(255) | 商品名                          |
| good_count  | int          | 商品库存                        |
| price       | double(10,2) | 商品价格                        |
| img         | varchar(255) | 商品图                          |
| Typeid      | int          | 商品类型                        |
| point_price | double(10,2) | 积分价格                        |
| buy_id      | int          | 用户购买类型(0 直售 1 积分兑换) |



#### 14.购买类型buy_type

| 字段     | 类型   | 说明                        |
| -------- | ------ | --------------------------- |
| buy_id   | int    | 购买类型id                  |
| buy_name | String | 类型名（0 直售 1 积分兑换） |



#### 15.商品类型product_type

| 字段      | 类型   | 说明   |
| :-------- | ------ | ------ |
| type_id   | int    | 类型id |
| type_name | String | 类型名 |



#### 16.订单表 order

| 字段      | 类型     | 说明                       |
| --------- | -------- | -------------------------- |
| orde_id   | int      | 订单id()                   |
| buy_count | int      | 购买数量                   |
| ispay     | int      | 是否支付(0/1) 默认1 未支付 |
| good_id   | int      | 商品id                     |
| buy_time  | DateTime | 购买时间                   |

#### 17.体裁表genre

| 字段     | 类型    | 声明             |
| -------- | ------- | ---------------- |
| genre_id | int     | 体裁id，主键自增 |
| g_type   | varchar | 体裁类型         |

#### 18.题材表theme

| 字段     | 类型    | 声明             |
| -------- | ------- | ---------------- |
| theme_id | int     | 题材id，主键自增 |
| t_type   | varchar | 题材类型         |

#### 19.诗词-信息表poemInformation

| 字段        | 类型    | 声明                 |
| ----------- | ------- | -------------------- |
| pf_id       | int     | 诗词信息id，主键自增 |
| pingxi      | varchar | 评析                 |
| comments    | varchar | 注释                 |
| translation | varchar | 译文                 |
| jiping      | varchar | 辑评                 |

#### 20.聊天表 message

| 字段       | 类型    | 声明                 |
| ---------- | ------- | -------------------- |
| message_id | int     | 聊天消息id，主键自增 |
| from_id    | int     | 发送人id             |
| to_id      | int     | 接收人id             |
| content    | varchar | 内容                 |

### 21.活动表 activity

| 字段           | 类型    | 声明       |
| -------------- | ------- | ---------- |
| active_id      | int     | 活动id     |
| active_content | varchar | 活动标题   |
| active_time    | varchar | 活动时间   |
| active_type_id | int     | 活动类型id |
| active_img     | varchar | 活动图片   |
| active_profile | text    | 活动简介   |

### 22.活动类型 activity_type

| 字段           | 类型    | 声明       |
| -------------- | ------- | ---------- |
| active_type_id | int     | 活动类型id |
| activity_type  | varchar | 活动类型   |
|                |         |            |
|                |         |            |

#### 23.点词成诗 wordsIntoPoems

| 字段              | 类型    | 声明         |
| ----------------- | ------- | ------------ |
| wordsIntoPoems_id | int     | id           |
| content           | varchar | 可选汉字内容 |
| correctPoem       | varchar | 正确答案     |